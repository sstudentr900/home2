
## JS
```js
    function fileFn(e){
        const file = e.target.files[0];
        //驗證
        const validFileTypes = ["jpeg","jpg", "png", "pdf", "doc", "docx","xls","xlsx"];
        const isValidFileType = validFileTypes.includes(file.name.split('.').pop());
        if (!isValidFileType) {
            alert("格式只能是jpg,png,pdf,doc,xls");
            e.target.value = '';
            return ;
        }
        const isValidFileSize = file.size / 1024 / 1024 < 5;
        if (!isValidFileSize) {
            alert("檔案需小於 5MB!");
            e.target.value = '';
            return ;
        }
    }
    document.querySelector('[data-target="file"]').addEventListener('change',fileFn)
```
```html
    <input type="file" name="file[]" data-target='file'>
```
```php

    //存檔
    if(isset($input['file'])){
        $files = $input['file'];
        foreach($files as $key => $value){
            $uploadedFile = $files[$key];
            $path = $uploadedFile->store('public');//存的位置 storage/app/public/自訂亂碼名稱
            $filename =  $uploadedFile->getClientOriginalName(); //檔名
            $data = new data_appendix;
            $data->src = $path;
            $data->name = $filename;
            $data->save();
        }
    }

    //刪除
    $appendix =  data_appendix::where('id', $id)->first();
    unlink(storage_path('app/'.$appendix['src'])); //delet store/app/fileName
    data_appendix::find($id)->delete();  //delet data 

```
```php blade
    <!-- 下載檔案 -->
    @if(isset($appendixs))
        @foreach ($appendixs as $appendix)
            <a href="{{ Storage::url(str_replace('public/','',$appendix->src)) }}" download="{{$appendix->name}}">{{$appendix->name}}</a>
        @endforeach
    @endif
    //  Storage::url('檔案名稱') 取得Storage URL 
```


----
[how to download file from storage folder in blade page in laravel?](https://stackoverflow.com/questions/55028870/how-to-download-file-from-storage-folder-in-blade-page-in-laravel)<br>
[上傳檔案](https://ithelp.ithome.com.tw/articles/10228413)<br>