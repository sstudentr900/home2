<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/customPrism.css">
  <link rel="stylesheet" href="../css/customPrism.css">
 
  
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
</head>

<body id="program">
  <h2>composer安裝</h2>
  <pre class="prettyprint">
    <xmp>
      composer require 套件提供者／套件名稱
      composer require 套件提供者／套件名稱:版本號
      composer require 套件提供者／套件名稱=版本號
    </xmp>
  </pre>
  <h4>參考</h4>
  <ul>
    <li>
      <a href="http://blog.tonycube.com/2016/12/composer-php.html" target="_blank">使用 Composer 管理 PHP 套件</a>
    </li>
    <li>
      <a href="https://xnote.dev/composer-introduction.html" target="_blank">Composer 依頼管理工具介紹</a>
    </li>
    <li>
      <a href="https://www.itread01.com/content/1541573353.html" target="_blank">composer常用的一些命令\引數\說明</a>
    </li>
  </ul>

  <h2>composer.json文件</h2>
  <h3>安装完Composer后，创建一个composer.json文件。假设我们项目需要用到monolog/monolog这个日志库，那么我们可以这样配置composer.json文件：</h3>
  <pre class="prettyprint">
    <xmp>
      {
          "require": {
              "monolog/monolog": "1.0.*"
          }
      }
    </xmp>
  </pre>
  <h3>配置好require后就可以安装依赖了，只需要运行以下的命令：</h3>
  <pre class="prettyprint">
    <xmp>
      composer install
    </xmp>
  </pre>

  <h2>更新 composer</h2>
  <pre class="prettyprint">
    <xmp>
      //自動升級到最新
      composer self-update 
      
      //如果要返回更新前的版本，可以
      composer self-update --rollback
      
      //刪除舊有的版本，讓目前版本的 Composer 在更新之後是唯一可用備份。
      composer self-update --clean-backups
    </xmp>
  </pre>

  <h2>require命令</h2>
  <p>Composer会先找到合适的版本，然后更新composer.json文件，在require那添加monolog/monolog包的相关信息，再把相关的依赖下载下来进行安装，最后更新composer.lock文件并生成php的自动加载文件。</p>
  <pre class="prettyprint">
    <xmp>
      composer require monolog/monolog
    </xmp>
  </pre>

  <h2>show命令 使用show命令可以列出项目目前所安装的包的信息</h2>
  <pre class="prettyprint">
    <xmp>
      # 列出所有已经安装的包
      composer show

      # 可以通过通配符进行筛选
      composer show monolog/*

      # 显示具体某个包的信息
      composer show monolog/monolog
    </xmp>
  </pre>

  <h2>update命令 通过update命令，可以更新项目里所有的包，或者指定的某些包。</h2>
  <pre class="prettyprint">
    <xmp>
      # 更新所有依赖
      composer update

      # 更新指定的包
      composer update monolog/monolog

      # 更新指定的多个包
      composer update monolog/monolog symfony/dependency-injection

      # 还可以通过通配符匹配包
      composer update monolog/monolog symfony/*
    </xmp>
  </pre>

  <h2>版本约束
  <pre class="prettyprint">
    <xmp>
      //require命令
      composer require monolog/monolog:1.19
      # 或者
      composer require monolog/monolog=1.19
      # 或者
      composer require monolog/monolog 1.19


      //composer.json
      {
          "require": {
              "monolog/monolog": "1.19"
          }
      }
    </xmp>
  </pre>

  <h2>版本约束(范围)</h2>
  <pre class="prettyprint">
    <xmp>
      不指定版本号（使用 * 号）
      * 一般不建议使用
      * "overtrue/wechat": "*"

      使用比较操作符你可以指定包的范围：>，>=，<，<=，!=
      * >=1.0
      * >=1.0 <2.0 
      * >=1.0 <1.1 || >=1.2

      波浪号~
      * ~1.2相当于>=1.2 <2.0.0
      * ~1会被当作~1.0对待，只能增加小版本，不能增加主版本

      折音号^
      * ^1.2.3相当于>=1.2.3 <2.0.0
      * ^0.3会被当作>=0.3.0 <0.4.0
    </xmp>
  </pre>
  <h4>參考</h4>
  <ul>
    <li>
      <a href="http://jsnwork.kiiuo.com/archives/2402/php-composer/" target="_blank">php – composer 過舊的警告升級</a>
    </li>
    <li>
      <a href="https://segmentfault.com/a/1190000005898222" target="_blank">Composer进阶使用 —— 常用命令和版本约束</a>
    </li>
    <li>
      <a href="https://segmentfault.com/a/1190000005624202?utm_source=sf-similar-article" target="_blank">Composer快速入门</a>
    </li>
  </ul>

  <h2>error</h2>
  <h3>The openssl extension is required for SSL/TLS protection...</h3>
  <h4>參考</h4>
  <ul>
    <li>
      <a href="https://blog.csdn.net/Luke__/article/details/79509977" target="_blank">php – composer 過舊的警告升級</a>
    </li>
  </ul>
</body>
</html>