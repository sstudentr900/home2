
## 建立檔案目錄連結
public目錄下的檔案，可以直接透過瀏覽器存取。<br>
http://localhost/storage/。<br>
storage/app/public目錄綁定到public/storage<br>
```php
    artisan storage:link
```


## Route
routes/web.php
```php
    use Validator;
    use Illuminate\Http\Request;
    Route::get('/images', function(){
        return view('images');
    });
    Route::post('/images', function(Request $request){

        Validator::make($request->all(), [
            'file' => 'required|image',
        ])->validate();
        //同上
        // $validate = $request->validate([
        //     'file' => 'required|image',
        // ]);


        if($request->hasFile('file')){
            $image = $request->file('file');

            //儲存圖片在 storage/app/public
            $file_path = $image->store('public');

            //自訂檔案名稱,儲存圖片在 storage/
            // $file_path = $image->storeAs('檔案路徑', '檔案名稱.jpg');
        }
        //回傳位於storage/資料夾下的位置
        return redirect(Storage::url($file_path));
    })->name('image');

```


## view
resources/views/images.php：
```php
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <form action="{{route('image')}}" method="post" enctype="multipart/form-data">
            @csrf


            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif

            <input name="file" type="file" accept="image/*" value=""/>
            <input name="" type="submit" value="上傳"/>
        </form>
    </body>
    </html>
```

----
[上傳檔案](https://ithelp.ithome.com.tw/articles/10228413)<br>



## store() 設置檔案存入指定的地方 
```
    // config/filesystem.php
    'disks' => [
    'local' => [
    'driver' => 'local',
    'root' => storage_path('app'),
    ],
    'public' => [
    'driver' => 'local',
    'root' => storage_path('app/public'),
    'url' => env('APP_URL').'/storage',
    'visibility' => 'public',
    ],
    (default is 'local')
    $article->image = $path;
    $article->save();
```

----
[File Storage](https://medium.com/@0510winnie/laravel-note-7-e331c38df902)<br>
[加入圖片上傳](https://www.dotblogs.com.tw/SmallFish/2021/05/07/074216)<br>