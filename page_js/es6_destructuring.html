<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/customPrism.css">
    <link rel="stylesheet" href="../css/customPrism.css">
    <link rel="stylesheet" href="../css/prism.css">
    <script src="../js/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  </head>
  <body id="program">
    <h2>array ES6 解構賦值</h2>
    <pre class="prettyprint">
      <xmp>
        <script>
        //陣列的解構賦值
        let exGirl = ['蘋蘋', '欣欣', '雯雯', '綺綺'];
        let [one, two, three, fore] = exGirl;


        const [cityA, cityB] = ['Hong Kong', 'Taipei']
        //cityA = Hong Kong, cityB = Taipei


        //遇到空的變數，這些值也會跳過
        let [one, , three, fore] = exGirl;
        // one='蘋蘋'
        // three='雯雯'
        // fore='綺綺'


        //左方多於右方，多出來的值會是undefined
        [cityA, , , , cityE] = ['Tokyo', 'Seoul']
        //cityA = Tokyo, cityE = undefined 


        //剩餘參數
        let exGirl = ['蘋蘋', '欣欣', '雯雯', '綺綺'];
        let [one, two, ...other] = exGirl;
        // other = ['雯雯','綺綺']  


        //預設值
        let exGirl = ['蘋蘋', '欣欣', '雯雯', '綺綺'];
        let [one, two, three, fore, five = "月月"] = exGirl;
        // five = 月月


        //賦予預設值
        let [a, b, c = 4, d = 'Hello'] = [1, 2, 3];
        // console.log(a, b, c, d); // 1, 2, 3, "Hello"


        //變數交換
        var one = '蘋蘋';
        var two = '欣欣';
        [one, two] = [two, one];
        // console.log(one); // one = 欣欣
        // console.log(two); // two = 蘋蘋

        //
        const [first, ...rest] = [];
        // first // undefined
        // rest  // []
        const [first, ...rest] = ["foo"];
        // first  // "foo"
        // rest   // []


        //字串拆解
        let please = '格幫我買飲料';
        [a, b, c, d, e, f] = please;
        // a=格 b=幫 c=我 d=買 e=飲 f=料


        //多維陣列
        const [a, [b, [c, d]]] = [1, [2, [[3, 4], 5]]];
          //a = 1, b = 2, c = [3,4], d = 5
        </script>
      </xmp>
    </pre>
    <h2>obj ES6 解構賦值</h2>
    <pre class="prettyprint">
      <xmp>
        <script>
        //
        let { name, age = 18 } = {}
        //age = 18


        let restaurant = {
          name: '那一天義法餐館',
          chef: '阿華師',
          menu: {
            duck: '法式櫻桃鴨胸',
            pig: '噶瑪蘭黑豚',
            rice: '檸檬奶油煙燻鮭魚燉飯'
          }
        };

        // 以前的寫法
        let name = restaurant.name //那一天義法餐館
        let chef = restaurant.chef //阿華師

        //解構賦值的寫法
        let {
          name,
          chef
        } = restaurant //name 那一天義法餐館 //chef 阿華師
        let {
          duck,
          pig
        } = restaurant.menu //duck 法式櫻桃鴨胸 //pig 噶瑪蘭黑豚


        //重新賦予變數名稱為x和y
        const { name: x, age: y } = {
          name: 'Tom',
          age: 18
        }
        x = Tom, y = 18


        //餘運算子
        const {
          name,
          age,
          city,
          ...rest
        } = {
          name: 'Tom',
          age: 18,
          gender: 'male',
          city: 'Taipei',
          pet: 'dog'
        }
        //name = Tom
        //age = 18
        //city = Taipei
        //rest = {gender: "male", pet: "dog"}


        //混合陣列和物件
        const user = {
          name: 'Amy',
          age: 30,
          pet: ['cat', 'dog', 'bird', 'fish']
        }
        const {
          name: x,
          age: y,
          pet: [val1, , val3]
        } = user
        console.log(x, y, val1, val3) //Amy, 30, cat, bird


        //預設變數的值
        let [name = 'Fiona', age = 24] = ['David']
        //name = David, age = 24

        let { food = 'banana', color = 'yellow' } = { color: 'red' }
        //food = banana, color = red

        //陣列包物件：
        const user = [
          'Ken',
          { pet: ['cat', ['dogA', 'dogB']] },
          100
        ]
        const [a, b, c] = user
        console.log(a) //Ken
        console.log(b) //{pet: ['cat',['dogA','dogB']]}
        console.log(c) //100
        </script>
      </xmp>
    </pre>
    <h2>函式應用</h2>
    <pre class="prettyprint">
      <xmp>
        <script>
        function greet({ name, greet = 'Nice to meet you' }) {
          console.log(`${greet}, ${name}`)
        }
        greet({ name: 'Katy', greet: 'Hi' }) //Hi, Katy
        greet({ name: 'John' }) //Nice to meet you, John
        greet({}) //Nice to meet you, undefined
        greet({ greet: 'Good morning' }) //Good morning, undefined


        //其餘運算子例子：
        function person({ name, university, language = 'English' }, ...skills) {
          console.log(`Name: ${name}, University: ${university}, Language ${language}, Skills: ${skills}`)
        }
        person({ name: 'Mary', university: true }, 'JavaScript', 'Ruby', 'PHP')
        //Name: Mary, University: true, Language English, Skills: JavaScript,Ruby,PHP
        person({ name: 'Tom', university: false, language: 'Mandarin' }, 'C', 'JavaScript', 'PHP')
          //Name: Tom, University: false, Language Mandarin, Skills: C,JavaScript,PHP
        </script>
      </xmp>
    </pre>
    <h2>for</h2>
    <pre class="prettyprint">
      <xmp>
        <script>
        //高階函式的例子：
        const list = [{ name: 'Eva' }, { name: 'Carrie', num: 23 }, { name: 'Olivia' }]
        list.forEach(({ name, num = 'unknown' }) => console.log(`Hi I'm ${name}. My number is ${num}.`))
          //Hi I'm Eva. My number is unknown.
          //Hi I'm Carrie. My number is 23.
          //Hi I'm Olivia. My number is unknown.
        </script>
      </xmp>
    </pre>
    <h4>參考</h4>
    <ul>
      <li>
        <a href="https://pjchender.dev/javascript/js-array" target="_blank">JavaScript 陣列（Array）</a>
      </li>
      <li>
        <a href="https://ithelp.ithome.com.tw/articles/10214766" target="_blank">
          Day11【ES6 小筆記】陣列的解構賦值-以哥哥的前女友為例（Array
        Destructuring）
        </a>
      </li>
      <li>
        <a href="https://ithelp.ithome.com.tw/articles/10247031" target="_blank">JavaScript基本功修練：Day15 - 解構賦值的概念與應用</a>
      </li>
      <li>
        <a href="https://ithelp.ithome.com.tw/articles/10214721" target="_blank">
          ES6 小筆記】物件的解構賦值-以一間好吃的餐廳為例（Object
        Destructuring）
        </a>
      </li>
    </ul>
  </body>
</html>
