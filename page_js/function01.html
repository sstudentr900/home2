<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>js_bsis_ function</title>
</head>

<body>
    <script>
        //函式 -------------------------------------------------------------------------------------------

        //https://www.youtube.com/watch?v=d-GujwTdcvw
        //使用有名稱的函式
        function showFruit(a) {
            console.log(a);
        }
        showFruit('aa');

        //常數指定為匿名函式
        var print = function() {}


        //callback(把函數當參數傳入)------------------------------------------------------------------------------------------------------------------
        //1.
        function shout() {
            console.log('hello');
        }

        function counToSeven(cd) {
            if (typeof cd == 'function') cd();
            // cd?cd():'';//同上   
            // cd&&cd();//同上 
        }
        counToSeven(shout);

        //4.
        function functionB(fn) {
            fn('小明');
        }
        functionB(function(name) {
            console.log(name + ' 您好');
        });


        //5.
        function getCircleArea(r) {
            return Math.PI * r * r
        }

        var circleArea = getCircleArea(5)
        console.log("半徑為10的圓面積:" + circleArea)

        function caculate(func, r) {
            console.log(func)
            return func(r)
        }

        var result = caculate(getCircleArea, 20)
        console.log(result)


        //函數傳遞參數(用object較好)------------------------------------------------------------------------------------------------------------------
        function person(obj) {
            console.log(obj.name);
            console.log(obj.age);
        }
        var data = {
            name: 'andy',
            age: '27'
        };
        person(data);
        //'andy'
        //'27'

        //es5
        function Person(name, age) {
            this.name = name || 'person';
            this.age = age || 18;
        }
        //es6
        function Person(name = 'person', age = 18) {
            this.name = name;
            this.age = age;
        }

        //ES6 其餘參數 直接傳入剩餘未定的變數內容
        //https://ithelp.ithome.com.tw/articles/10241916
        const callMore = (a, ...args) => {
            console.log(args);
        }
        var a = 'a';
        var b = 'b';
        var c = 'c';
        callMore(a, b, c);


        //arguments(很像数组，但它是一个对象)
        //1.
        //function show(){
        //    alert(arguments[0]);//12
        //}
        //show(12,5);

        //2.
        //function show01(){
        //    var result=0;
        //    for(var i=0;i<arguments.length;i++){
        //	result +=arguments[i];
        //    }
        //    return(result);
        //}
        //show01(12,5,5,8,6);

        //3.length
        //function f() {
        //    return arguments.length;
        //}
        //f(1, 2, 3) // 3
        //f(1) // 1
        //f() // 0

        //4.数组专有的方法不能在arguments对象上直接使用可以通过apply方法
        // 使用与另一个数组合并
        //function show(){
        //var args=Array.prototype.concat.apply([1,2,3], arguments);
        //console.log(args);}
        //show(1,2,3,4);//[1, 2, 3, 1, 2, 3, 4]
        //轉成數組
        //function show(){
        // var args=Array.prototype.slice.apply(arguments);
        // console.log(args);}
        //show(1,2,3,4);//[1, 2, 3, 4]
        // or
        //var args = [];
        //for (var i = 0; i < arguments.length; i++) {
        //    args.push(arguments[i]);
        //}

        //5.callee属性(返回它所对应的原函数)
        //var f = function(one) {
        //    console.log(arguments.callee === f);
        //}
        //f() // true


        //解構
        function greet({
            name,
            greet = 'Nice to meet you'
        }) {
            console.log(`${greet}, ${name}`)
        }
        //1.
        greet({
            name: 'Katy',
            greet: 'Hi'
        }); //Hi, Katy
        //2.    
        greet({
            name: 'John'
        }); //Nice to meet you, John
        //3.
        greet({}); //Nice to meet you, undefined
        //4.
        greet({
            greet: 'Good morning'
        }); //Good morning, undefined


        // 嚴格模式-------------------------------------------------------------------------------------------------------------
        function shout() {
            'use strict'
            console.log(this);
        }



        //阻止函數運行------------------------------------------------------------------------------------------------------------------
        //return沒有打會自動;
        function fn() {
            return //
            '小明'
        }
        console.log(fn())

        //return后面跟着一个对象，new命令会返回return语句指定的对象；否则，就会不管return语句，返回this对象。
        //var Vehicle = function () {
        //    this.price = 1000;
        //    return 1000;
        //};
        //(new Vehicle()) === 1000// false


        //return语句返回的是一个跟this无关的新对象，new命令会返回这个新对象，而不是this对象。这一点需要特别引起注意。
        //var Vehicle = function (){
        //    this.price = 1000;
        //    return { price: 2000 };
        //};
        //(new Vehicle()).price// 2000


        //如果对普通函数（内部没有this关键字的函数）使用new命令，则会返回一个空对象。
        //function getMessage() {
        //    return 'this is a message';
        //}
        //var msg = new getMessage();
        //msg // {}
        //typeof msg // "Object"


        //1.
        //var on=true;
        //function sum(a,b){
        //    if(!on){
        //        return;//阻止函數運行
        //    }
        //    on=false;
        //    console.log(12);
        //}
        //sum();sum();

        //2.
        //function myFunction() {
        //    var power = 10;
        //    return;
        //    2 * power;
        //}
        //myFunction();//undefined


        //不能在条件语句中声明函数------------------------------------------------------------------------------------------------------------------
        //1.不合法的但能够运行
        //if (true) {
        //    function x() {}
        //}
        //x();
        ////2.
        //if (true) {
        //    var f = function () {};
        //}
        //f() // undefined
        ////3.
        //try {
        //    function x() {}
        //} catch(e) {
        //    console.log(e);
        //}

        //1 is not a function 的錯誤，如果要避免此錯誤就需要使用分號將其隔開--------------------------------------------------------------------
        var a = 1 // 分號隔在哪都好，隔開就對了
        ;
        (function() {
            console.log(2)
        })()
    </script>
</body>

</html>